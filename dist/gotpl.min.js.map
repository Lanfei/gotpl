{"version":3,"sources":["dist/gotpl.js"],"names":["global","factory","exports","module","define","amd","self","gotpl","this","x","jsTokens","Object","defineProperty","value","default","matchToToken","match","token","type","closed","undefined","fn","jsTokens$1","__esModule","prototype","hasOwnProperty","call","jsTokens_1","reservedKeywords","abstract","await","boolean","break","byte","case","catch","char","class","const","continue","debugger","delete","do","double","else","enum","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","throw","transient","true","try","typeof","var","void","volatile","while","with","yield","isKeywordJs","str","matchHtmlRegExp","escapeHtml_1","string","escape","exec","html","index","lastIndex","length","charCodeAt","substring","LINE_RE","INDENT_RE","tplCache","fileCache","defOpts","root","debug","cache","minify","openTag","closeTag","merge","target","objects","arguments$1","arguments","loop","i","l","object","keys","forEach","key","resolvePath","filename","base","path","require","isAbsolute","resolve","extname","dirname","join","renderByPath","template","data","options","parent","compiled","compile","readFileSync","toString","e","renderFileSync","lines","variables","globalObj","codes","split","segment","htmlCode","logicCode","logic","replace","JSON","stringify","parseHTML","indexOf","parseValue","slice","trim","ignore","map","keyword","push","getVariables","variable","parseVariables","Function","subData","rethrow","err","line","start","Math","max","end","min","message","curLine","config","render","renderFile","next","promise","fs","Promise","reject","readFile","buffer","escapeHTML","version"],"mappings":"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"}